---
title: "Superwall Direct Integration"
description: "Set up Superwall directly with App Store and Google Play"
icon: "store"
---

## Prerequisites

<Tabs>
  <Tab title="iOS">
    Before setting up Superwall direct integration for iOS, make sure you have:

    - Completed the platform setup for [App Store Connect](./app-store-connect-setup)
    - Created [iOS products](./ios-products) in App Store Connect
    - Set up testing environments with [iOS sandbox testing](./ios-sandbox)
  </Tab>
  
  <Tab title="Android">
    Before setting up Superwall direct integration for Android, make sure you have:

    - Completed the platform setup for [Google Play Console](./google-play-console-setup)
    - Created [Android products](./android-products) in Google Play Console
    - Set up a Google Cloud project (or be ready to create one)
  </Tab>
</Tabs>

## Create Superwall Account

<Steps>
  <Step title="Create Account and Project">
    1. Create an account at [Superwall](https://superwall.com/)
    2. Create a new project:
       - **Platform:** React Native
       - **App Name:** Your app name
       - **iOS Bundle ID:** Your app's bundle ID from `app.json`
       - **Android Bundle ID:** Your app's package name from `app.json`
    3. Click **Create App**
    
    Superwall will create a new project with apps for both iOS and Android, and take you to the **Dashboard** page.
  </Step>
</Steps>

## Configure Revenue Tracking

<Tabs>
  <Tab title="iOS">
    <Steps>
      <Step title="Set Up App Store Server Notifications">
        1. In [App Store Connect](https://appstoreconnect.apple.com/), navigate to your app
        2. Go to **App Information** tab
        3. Scroll down to find **App Store Server Notifications**
        4. For both **Production URL** and **Sandbox URL** fields:
          - In Superwall dashboard, go to **Settings** > **App Store Connect**
          - Copy the URL provided next to "App Store Server Notifications URL" by clicking the copy button
          - Paste this URL into the App Store Connect fields
        5. Click **Save** in App Store Connect
        
        <Note>
          This setup forwards subscription events from App Store Connect directly to Superwall, enabling accurate tracking of subscription statuses and renewals.
        </Note>
      </Step>

      <Step title="Navigate to App Store Connect">
        1. Navigate to App Store Connect
        2. Click on **Users and Access**
      </Step>

      <Step title="Access In-App Purchase Section">
        1. Click on **Integrations** at the top
        2. Under Keys, choose **In-App Purchase**
      </Step>

      <Step title="Create and Download Key">
        1. Click on **+** to create a new key if you don't have one
        2. Add a name (e.g., "Superwall Integration") and click **Generate**
        3. Click on **Download In-App Purchase Key** for the new key
        4. On the resulting modal, click **Download**
        
        <Note>
          You can reuse the same key for all apps falling under the same App Store Connect account. If you no longer have access to a previously downloaded P8 key file, simply create a new one.
          
          **IMPORTANT**: You only have one chance to download the key file. Make sure to save it in a secure location.
        </Note>
      </Step>

      <Step title="Configure In-App Purchase in Superwall">
        1. In Superwall dashboard, go to **Settings** > **App Store Connect**
        2. Upload the P8 key file you downloaded in the previous step under "P8 Key File"
        3. Fill in the **Bundle ID** of your app
        4. Enter the **Key ID** of the key you created in App Store Connect
           - You can find this in the "Key ID" column shown in the key listing
           - Locate the row for the key you made and copy the corresponding Key ID
        5. For **Issuer ID**, fill in the value found at Users and Access > Integrations > In-App Purchase in App Store Connect
        6. Click on **Update** and confirm everything is set up correctly
      </Step>

      <Step title="Create API Key in App Store Connect">
        1. In App Store Connect, go to **Users and Access** > **Keys**
        2. Click **+** to add a new key
        3. Enter a name for the key (e.g., "Superwall API Integration")
        4. Under **Access**, select the checkbox for **App Manager** access
        5. Click **Generate**
        6. Download the P8 key file when prompted - **this is your only chance to download it**
        
        <Note>
          Store the downloaded P8 file securely - you won't be able to download it again.
        </Note>
      </Step>

      <Step title="Configure App Store Connect API in Superwall">
        1. In Superwall dashboard, go to **Settings** > **App Store Connect**
        2. Under **App Store Connect API**, click **Upload** next to "P8 Key File"
        3. Select the P8 key file you downloaded from App Store Connect
        4. Enter the **Key ID** from the key you just created
        5. For **Issuer ID**, use the same value as the previous setup
        6. Click **Update**
        
        <Note>
          After configuration, Superwall will be able to automatically pull product data from App Store Connect.
        </Note>
      </Step>
    </Steps>
  </Tab>
  
  <Tab title="Android">
    <Warning>
      **Important Information Before Starting:**
      
      - Google Play revenue tracking is currently in private beta with Superwall
      - This integration is complex - follow all steps exactly as described
      - After configuration, it may take up to 36 hours for the keys to start working
    </Warning>

    <Steps>
      <Step title="Access or Create a Google Cloud Project">
        1. Visit the [Google Cloud Console](https://console.cloud.google.com/)
        2. If you've already set up [Push Notifications](../push-setup) for Android, or [Google Authentication](../auth/google-auth), use that same project
        3. Otherwise, click **Create Project** and follow the prompts to create a new one
      </Step>
      
      <Step title="Enable Required Google APIs">
        1. Enable [Google Play Android Developer API](https://console.cloud.google.com/apis/library/androidpublisher.googleapis.com)
        2. Enable [Cloud Pub/Sub API](https://console.cloud.google.com/apis/library/pubsub.googleapis.com)
        3. Verify both APIs show a blue **Manage** button next to the **Try this API** button and a green **API Enabled** check
      </Step>
      
      <Step title="Create a new service account">
        1. Visit [Service Accounts](https://console.cloud.google.com/iam-admin/serviceaccounts) and create a new user
        2. Fill in the service account details (name, ID, description)
        3. For permissions, add:
           - **Pub/Sub Admin** role
           - **Monitoring Viewer** role
        4. Skip the **Principals with access** step
      </Step>

      <Step title="Download the service account credentials">
        1. Click on the newly created service account
        2. Go to the **Keys** tab
        3. Click **Add key**
        4. Select **Create new key**
        5. Select **JSON**
        6. Click **Create**
        7. **Save** the downloaded JSON key file securely
      </Step>

      <Step title="Upload credentials to Superwall">
        1. In Superwall dashboard, go to **Settings** > **Revenue Tracking**
        2. Pick **Google Play** (Forward events from Google Play)
        3. Enter your app's **Package Name**
        4. Upload the JSON key file to **Google Play JSON Key**
        5. Click **Save**
        6. Notice the **Topic** field that appears below the **Save** button.
        7. Click on it and pick the link from the dropdown.
        8. Copy this generated **Topic Name** for use in the next step.
      </Step>
      
      <Step title="Add service account to Google Play Console">
        1. Visit [Google Play Console](https://play.google.com/console)
        2. Select **Users and Permissions**
        3. Click **Invite new users**
        4. Paste in the email address of the service account you created
        5. Select **Account Permissions**
        6. Add the following permissions:
           - **View app information and download bulk reports**
           - **View financial data, orders, and cancellation survey responses**
           - **Manage orders and subscriptions**
        7. Click **Invite**
      </Step>
      
      <Step title="Configure Pub/Sub in Google Play Console">
        1. Go to your **app** within the [Google Play Console](https://play.google.com/console)
        2. Select **Monetize with Play** > **Monetization setup** 
        3. Under **Google Play Billing**, check **Enable real-time notifications**
        4. Under **Notification content**, select **Subscriptions, voided purchases, and all one-time products**
        5. Paste the copied **Topic Name** from Superwall into the **Topic name** field
        6. Click **Save**
      </Step>
    </Steps>
  </Tab>
</Tabs>

## Configure Products

<Tabs>
  <Tab title="iOS">
    <Note>
      This guide assumes you've already created subscription products in App Store Connect. If you haven't done this yet, please follow the [iOS Products](./ios-products) guide first.
    </Note>
    
    <Steps>
      <Step title="Create Premium Entitlement">
        1. In Superwall dashboard, go to **Products** in the left sidebar
        2. Select **Entitlements** in the top menu
        3. Click **+ Add Entitlement**
        4. **Identifier:** Enter `premium`
        5. Click **Save**
      </Step>
      
      <Step title="Gather Product Information">
        Reference the product IDs you created in the [iOS Products](./ios-products) guide. 
        
        <Note>
          Ensure your product IDs are **100%** correct and match exactly what's in App Store Connect. Also verify your products have a valid status (either **Ready to Submit**, **Approved**, or **Published**). Products in **Missing Metadata** state cannot be tested.
        </Note>
      </Step>
    
      <Step title="Add Monthly and Yearly Subscriptions">
        1. In Superwall dashboard, go to **Products** > **Products**
        2. For each subscription type (Monthly, Yearly, or Yearly with Trial):
           - Click **+ Add Product**
           - **Product ID:** Paste the subscription ID from App Store Connect (following the pattern from the iOS Products guide)
           - **Trial:** (Optional) Default is "None" - or choose a period (e.g., "1 week")
              - *If trial selected:* **Trial Price** appears â†’ Default is "Free" or set a price
           - **Price:** Set to match the price in App Store Connect
           - **Period:** Select **Month** for monthly or **Year** for yearly subscription
           - **Entitlements:** Select `premium` for all subscription types
           - Click **Save**
      </Step>
    </Steps>
  </Tab>
  
  <Tab title="Android">
    <Note>
      This guide assumes you've already created products in Google Play Console. If you haven't done this yet, please follow the [Android Products](./android-products) guide first.
    </Note>
    
    <Steps>
      <Step title="Create Premium Entitlement">
        1. In Superwall dashboard, go to **Products** in the left sidebar
        2. Select **Entitlements** in the top menu
        3. Click **+ Add Entitlement**
        4. **Identifier:** Enter `premium`
        5. Click **Save**
      </Step>
    
      <Step title="Gather Product Information">
        Reference the product IDs and base plan IDs you created in the [Android Products](./android-products) guide.
        
        <Note>
          Ensure your product IDs and base plan IDs are **100%** correct and match exactly what's in Google Play Console. Products must have a valid status to be used with Superwall.
        </Note>
      </Step>
    
      <Step title="Add Monthly and Yearly Subscriptions">
        1. In Superwall dashboard, go to **Products** > **Products**
        2. For each subscription type (Monthly and Yearly):
           - Click **+ Add Product**
           - **Product ID:** Enter your product ID following the `<app>_<entitlement>` pattern
           - **Base Plan ID:** Enter the base plan ID (`monthly-autorenewing` for monthly or `annual-autorenewing` for yearly)
           - **Automatically Pick Offer:** Toggle ON to let Superwall choose the best offer (prioritizes longest free trial, then cheapest price)
           - **Price:** Select the exact price from Google Play
           - **Period:** Select **Month** for monthly or **Year** for yearly subscription
           - **Entitlements:** Select `premium` for both subscription types
           - Click **Save**
      </Step>
    </Steps>
  </Tab>
</Tabs>
